import requests
url = "http://openapi.uml-tech.com/farm/getHistoryCanInfo"
header = {'Content-Type': 'application/json'}
dict = [
    "860675040778035",
    "WUZ21115BG100088",
    "862237044558679",
    "860675041723139",
    "860675041846369",
    "862237044104961",
    "862237044557200",
    "860675045986104",
    "BWZ1102005100033",
    "015127181207",
    "860675041729946",
    "862237044026834",
    "862237044146061",
    "860675041911387",
    "860675041938612",
    "862237044012636",
    "860675041727148",
    "862237044015969",
    "NJHYBVHAT0000352",
    "860675040512533",
    "860675040765925",
    "862237044558455",
    "862237044615149",
    "862237044007362",
    "860675040644856",
    "862237044544596",
    "862237044020233",
    "862237044071426",
    "860675041848407",
    "860675045977145",
    "NJHYKBOAU0000041",
    "862237044524705",
    "XJXY220200300130",
    "860675040631655",
    "862237044068174",
    "860675041774769",
    "860675045983689",
    "860675041728880",
    "NJHYTFQAT0000029",
    "862237044132103",
    "862237044036791",
    "015127180910",
    "NJHYBQSAU0000029",
    "NJHYEFDAT0000020",
    "862237044075377",
    "860675041725829",
    "862237044540990",
    "860675046024699",
    "862237044532583",
    "860675041912195",
]
list = []
count = 0
for i in dict:
    body = "{    \"did\": \""+i+"\"," \
              "    \"gpsEndTime\": 20190701235959," \
              "    \"filterIfMissing\": true," \
              "    \"pageSize\": 10," \
              "    \"pageType\": 0," \
              "    \"requestColumns\": \"3013,2601,3014,2603,3015,3019,2602,2204,3016,4040,did,4014\"," \
              "    \"reversed\": false," \
              "    \"showColumns\": \"3013,2601,3014,2603,3015,3019,2602,2204,3016,4040,did,4014\"," \
              "    \"startRowkey\": \"a\"," \
              "    \"gpsStartTime\": 20190701000000," \
              "    \"token\": \"92d4e3fef54e432a01127200365d039f\"," \
              "    \"vin\": \"\"\r\n}"
    response = requests.post(url=url , headers=header , data=body)
    count +=1
    print("这时第：{0}次发送".format(count))
    if(response.status_code==200):
        list.append(count)
        print ("请求成功")
    else:
        print ("请求失败")
    print(response.text.encode('utf8'))

